(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,a,t){e.exports=t(172)},117:function(e,a,t){},118:function(e,a,t){},164:function(e,a){},172:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),i=t.n(l),o=(t(117),t(11)),s=(t(118),t(220)),c=t(223),m=t(224),u=t(38),d=t(221),g=t(222),p=t(209),f=t(213),h=t(27),E=t.n(h),v=t(90),b=t.n(v),y=t(214),w=t(215),S=t(216),k=t(217),C=function(e){var a=e.classes,t=e.allUsers;return r.a.createElement("div",null,r.a.createElement(p.a,{className:a.documentCard,variant:"outlined"},r.a.createElement(f.a,null,r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement("div",null,r.a.createElement("h1",null,"Document title"),r.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum"))),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement("div",null,r.a.createElement(w.a,null,t.map((function(e,a){var t=1==e.online?{color:"green"}:{color:"grey"},n=new Date(e.updatedAt);return r.a.createElement(S.a,{key:a},r.a.createElement(k.a,{style:t,primary:e.first_name,secondary:1==e.online?"Online":"Last seen at :"+n.toDateString()+" "+n.toTimeString().split(" ")[0]}))})))))))))},x=t(173),O=t(219),U=t(96),j=t.n(U),L=t(97),N=t(231),W=t(230),_=function(e){var a=e.classes,t=e.onlineUsers,n=Object(L.a)(t).splice(0,4).map((function(e,t){var n=t%2==0?a.orange:a.purple;return r.a.createElement("div",{key:t},r.a.createElement(W.a,{title:e.first_name+" "+e.last_name,"aria-label":"add"},r.a.createElement(N.a,{className:n},e.first_name[0].toUpperCase())))})),l=r.a.createElement(N.a,null,"+",t.length-4);return r.a.createElement("div",{className:a.avatarClass},n,t.length>4?l:"")},I=function(e){var a=e.classes,t=e.onlineUsers,n=(e.allUsers,r.a.useState(!1)),l=Object(o.a)(n,2),i=l[0],s=(l[1],r.a.useRef(null)),c=r.a.useState(1),m=Object(o.a)(c,2);m[0],m[1];return r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(_,{classes:a,onlineUsers:t})),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(O.a,{variant:"contained",color:"primary",ref:s,"aria-label":"split button"},r.a.createElement(x.a,null,"Present"),r.a.createElement(x.a,{color:"primary",size:"small","aria-controls":i?"split-button-menu":void 0,"aria-expanded":i?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu"},r.a.createElement(j.a,null)))))},D={apiUrl:"https://real-time-document.herokuapp.com/"},P=Object(s.a)((function(e){return{root:{flexGrow:1},avatarClass:{display:"inline-flex","& > *":{margin:e.spacing(-.8)}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#FFF"},orange:{color:e.palette.getContrastText(d.a[500]),backgroundColor:d.a[500]},purple:{color:e.palette.getContrastText(g.a[500]),backgroundColor:g.a[500]},documentCard:{margin:"2%"}}})),B=function(e){var a=e.userData,t=e.changeStatus,n=P(),l=r.a.useState([]),i=Object(o.a)(l,2),s=i[0],d=i[1],g=r.a.useState([]),h=Object(o.a)(g,2),v=h[0],y=h[1],w=b()(D.apiUrl);r.a.useEffect((function(){S(),w.emit("send-socket-id",{id:a._id}),w.on("online",(function(e){S()})),w.on("user-disconnected",(function(e){S()}))}),[]);var S=function(){E.a.get(D.apiUrl+"users").then((function(e){d(e.data.users);var a=e.data.users.filter((function(e){return e.online}));y(a),console.log(a)}))};return r.a.createElement("div",{className:n.root},r.a.createElement(c.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(u.a,{variant:"h6",className:n.title},"Realtime Document"),r.a.createElement(u.a,{variant:"h6",className:n.title,onClick:function(){return w.emit("logout"),void t("login")}},"Logout"))),r.a.createElement("div",null,r.a.createElement(p.a,{variant:"outlined",style:{backgroundColor:"#282c34",margin:"0 20%"}},r.a.createElement(f.a,null,r.a.createElement(I,{classes:n,onlineUsers:v}))),r.a.createElement(C,{classes:n,onlineUsers:v,allUsers:s})))},T=t(227),F=t(226),R=t(228),z=t(225),A=Object(s.a)((function(e){return{root:{minWidth:275,margin:"10%",padding:"5%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},forminput:{"& > *":{margin:e.spacing(1),width:"25ch"}},signupbtn:{marginTop:"10px",float:"right"}}})),G=function(e){var a=A(),t=r.a.useState({email:"",password:""}),n=Object(o.a)(t,2),l=n[0],i=n[1],s=r.a.useState(2),c=Object(o.a)(s,2),m=c[0],d=c[1],g=r.a.useState(""),h=Object(o.a)(g,2),v=h[0],b=h[1],y=function(e,a){var t=l;t[a]=e.target.value,i(t)},w=r.a.createElement(R.a,{severity:"error"},r.a.createElement(z.a,null,"Error"),v),S=r.a.createElement(R.a,{severity:"success"},r.a.createElement(z.a,null,"Success"),"Logging in user.......");return r.a.createElement("div",null,r.a.createElement(p.a,{className:a.root,variant:"outlined"},r.a.createElement(f.a,null,0==m?w:1==m?S:"",r.a.createElement(u.a,{variant:"h5",component:"h2"},"Login"),r.a.createElement("div",null,r.a.createElement(T.a,{id:"filled-full-width",label:"Email *",style:{margin:8},fullWidth:!0,margin:"normal",onChange:function(e,a){return y(e,"email")}}),r.a.createElement(T.a,{id:"filled-full-width",label:"Password *",style:{margin:8},fullWidth:!0,margin:"normal",onChange:function(e,a){return y(e,"password")},type:"password"})),r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){""==l.email||""==l.password?(d(0),b("Please fill in email and password")):(d(1),E.a.post(D.apiUrl+"login",l).then((function(a){d(1),e.changeStatus("loggedIn",a)})).catch((function(e){d(0),e.response&&b(e.response.data.message)})))}},"Submit")),r.a.createElement(F.a,null),r.a.createElement(x.a,{variant:"contained",color:"secondary",onClick:function(){return e.changeStatus("register")},className:a.signupbtn},"Signup")))},J=Object(s.a)((function(e){return{root:{minWidth:275,margin:"10%",padding:"5%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},forminput:{"& > *":{margin:e.spacing(1),width:"25ch"}},loginbtn:{marginTop:"10px",float:"right"}}})),M=function(e){var a=J(),t=r.a.useState({first_name:"",last_name:"",email:"",password:""}),n=Object(o.a)(t,2),l=n[0],i=n[1],s=r.a.useState(2),c=Object(o.a)(s,2),m=c[0],d=c[1],g=r.a.useState(""),h=Object(o.a)(g,2),v=h[0],b=h[1],y=function(e,a){var t=l;t[a]=e.target.value,i(t)},w=r.a.createElement(R.a,{severity:"success"},r.a.createElement(z.a,null,"Success"),"User successfully registered. Login to continue"),S=r.a.createElement(R.a,{severity:"error"},r.a.createElement(z.a,null,"Error"),v);return r.a.createElement("div",null,r.a.createElement(p.a,{className:a.root,variant:"outlined"},r.a.createElement(f.a,null,1==m?w:0==m?S:"",r.a.createElement(u.a,{variant:"h5",component:"h2"},"Register"),r.a.createElement("div",null,r.a.createElement(T.a,{id:"filled-full-width",label:"First name *",style:{margin:8},fullWidth:!0,margin:"normal",onChange:function(e,a){return y(e,"first_name")}}),r.a.createElement(T.a,{id:"filled-full-width",label:"Last name",style:{margin:8},fullWidth:!0,margin:"normal",onChange:function(e,a){return y(e,"last_name")}}),r.a.createElement(T.a,{id:"filled-full-width",label:"Email *",style:{margin:8},fullWidth:!0,margin:"normal",onChange:function(e,a){return y(e,"email")}}),r.a.createElement(T.a,{id:"filled-full-width",label:"Password *",style:{margin:8},fullWidth:!0,margin:"normal",onChange:function(e,a){return y(e,"password")},type:"password"})),r.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){""==l.first_name||""==l.email||""==l.password?(d(0),b("Please fill all the required fields")):E.a.post(D.apiUrl+"auth/createUser",l).then((function(e){d(1)})).catch((function(e){d(0),e.response&&b(e.response.data.message)}))}},"Submit")),r.a.createElement(F.a,null),r.a.createElement(x.a,{variant:"contained",color:"secondary",onClick:function(){return e.changeStatus("login")},className:a.loginbtn},"Login")))};var q=function(){var e,a=r.a.useState("login"),t=Object(o.a)(a,2),n=t[0],l=t[1],i=r.a.useState([]),s=Object(o.a)(i,2),c=s[0],m=s[1],u=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];a.data&&m(a.data.loggedUser),l(e)};return"login"==n?e=r.a.createElement(G,{changeStatus:u}):"register"==n?e=r.a.createElement(M,{changeStatus:u}):"loggedIn"==n&&(e=r.a.createElement(B,{changeStatus:u,userData:c})),r.a.createElement("div",{className:"App"},e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.2e350d92.chunk.js.map